# 订阅文章表字段更新说明

## 更新概述

本次更新为 `subscription_articles` 表添加了5个新字段，以增强文章的信息丰富度和用户体验。

## 新增字段

### 1. 重点提炼 (key_points)
- **字段类型**: TEXT
- **描述**: 文章的核心要点和关键信息提炼
- **用途**: 帮助用户快速了解文章的主要内容
- **示例**: 
  ```
  1. 技术核心原理和基本概念
  2. 实际项目中的应用场景
  3. 技术的优势和局限性分析
  4. 学习技术的有效方法和路径
  5. 技术的未来发展趋势预测
  ```

### 2. 期刊名称 (journal_name)
- **字段类型**: VARCHAR(200)
- **描述**: 文章发表的期刊或来源名称
- **用途**: 标识文章的学术来源和权威性
- **示例**: "计算机科学与技术学报", "软件工程学报"

### 3. 阅读次数 (read_count)
- **字段类型**: INTEGER
- **默认值**: 0
- **描述**: 文章的累计阅读次数
- **用途**: 反映文章的受欢迎程度和影响力

### 4. 引用次数 (citation_count)
- **字段类型**: INTEGER
- **默认值**: 0
- **描述**: 文章被其他文献引用的次数
- **用途**: 衡量文章的学术价值和影响力

### 5. 评分 (rating)
- **字段类型**: DECIMAL(3,1)
- **默认值**: 0.0
- **描述**: 文章的用户评分，范围0.0-10.0
- **用途**: 用户对文章质量的评价

## 数据库迁移

### 执行迁移脚本
```sql
-- 执行 scripts/migrate_subscription_articles.sql 文件中的SQL语句
```

### 迁移步骤
1. 备份现有数据库
2. 执行迁移脚本添加新字段
3. 验证字段添加成功
4. 更新应用程序代码

## API 更新

### 创建文章请求 (CreateSubscriptionArticleRequest)
新增字段：
```json
{
  "key_points": "文章重点提炼内容",
  "journal_name": "期刊名称",
  "read_count": 100,
  "citation_count": 5,
  "rating": 8.5
}
```

### 文章响应 (SubscriptionArticleResponse)
新增字段：
```json
{
  "key_points": "文章重点提炼内容",
  "journal_name": "期刊名称",
  "read_count": 100,
  "citation_count": 5,
  "rating": 8.5
}
```

## 模拟数据更新

模拟文章生成功能已更新，新创建的文章将包含：
- 随机生成的重点提炼内容
- 随机选择的期刊名称
- 随机生成的阅读次数 (50-1050)
- 随机生成的引用次数 (1-51)
- 随机生成的评分 (5.0-10.0)

## 注意事项

1. **向后兼容性**: 新字段都有默认值，不会影响现有数据
2. **数据验证**: 评分字段限制在0-10范围内
3. **性能考虑**: 可根据查询需求为新增字段创建索引
4. **前端更新**: 需要相应更新前端界面以显示新字段

## 测试建议

1. 测试创建包含新字段的文章
2. 测试获取文章列表时新字段的显示
3. 测试模拟文章生成功能
4. 验证数据库迁移的正确性
